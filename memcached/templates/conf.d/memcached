{% from 'memcached/macros.sls' import get_config_item with context -%}
# Copyright 2003 Gentoo Technologies, Inc
# $Header: /var/cvsroot/gentoo-x86/net-misc/memcached/files/1.3.3/conf,v 1.1 2009/05/26 00:03:09 robbat2 Exp $
# memcached config file

MEMCACHED_BINARY="/usr/bin/memcached"

#Specify memory usage in megabytes (do not use letters)
#64MB is default
MEMUSAGE="{{ get_config_item('memory_cap') }}"

#User to run as
MEMCACHED_RUNAS="memcached"

#Specify maximum number of concurrent connections
#1024 is default
MAXCONN="{{ get_config_item('max_connections') }}"

#Listen for connections on what address?
# If this is empty, memcached will listen on 0.0.0.0
# be sure you have a firewall in place!
LISTENON="{{ get_config_item('listen_address') }}"

#Listen for connections on what port?
PORT="{{ get_config_item('port') }}"

# Listen for UDP connecitons on what port? 0 means turn off UDP
UDPPORT="0"

#PID file location
# '-${PORT}.${CONF}.pid' will be appended to this!
# You do not normally need to change this.
PIDBASE="/var/run/memcached/memcached"

#Other Options
MISC_OPTS=""

{% if get_config_item('slab_size_limit') != '1m' %}
MISC_OPTS="$MISC_OPTS -I {{ get_config_item('slab_size_limit') }}"
{% endif %}
